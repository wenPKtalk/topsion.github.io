---
title: 数据库事务的来龙去脉2-分布式事务的演进
date: 2022-07-08 09:12:43
tags: [Transcation,Database]
categories: [Database]
---

> 本地事务相对比较简单，很容易实现。但是上升到全局事务再到分布式事务就比较麻烦，对保证数据一致性就需要做很多额外的处理。

### 从全局事务（Global Transactions）谈起

全局事务即外部事务（External Transaction）：一种适用于单个服务使用多个数据源场景的事务解决方案。

实际上DTP（Distributed Transaction Processing）中没有上边这种限定。本篇分为两大类：

1. 在分布式（单服务多个数据源）环境中追求强一致性。
2. 在分布式（微服务）中放弃ACID追求弱一致性。

#### XA（Extended Architecture）协议

定义了**全局事务管理器（Transaction Manager）：用于协调全局事务**和**局部的资源管理器（Resources Manager）：用于驱动本地事务**之间的通讯接口。



